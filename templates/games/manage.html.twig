{% extends 'base/base.html.twig' %}
{% block body %}
    <div class="row">
        <div class="col">
            <article>
                <h2>Puzzles</h2>
                {% if game.getPuzzleInstances is not empty %}
                    {% for puzzleInstance in game.getPuzzleInstances %}

                    {% endfor %}
                {% else %}
                    <div class="accordion-empty-message">
                        There are no puzzles in your game!
                    </div>
                {% endif %}
                <hr class="hidden">
                <a href="" class="btn btn-primary">Add a Puzzle</a>
            </article>
        </div>
        <div class="col">
            <h2>Players</h2>
            <article>
                <h3>Active Players</h3>
                <div class="accordion" is="accordion-list">
                    {% if game.getPlayers is not empty %}
                        {% for player in game.getPlayers %}

                        {% endfor %}
                    {% else %}
                        <div class="accordion-empty-message">
                            There are no players in your game!
                        </div>
                    {% endif %}
                </div>
                <hr class="subtle"/>
            </article>
            <article>
                <h3>Outstanding Invitations</h3>
                {% if invitations is empty %}
                    <em>No players have been invited to your game. Why not invite some?</em>
                {% else %}
                    <table class="table">
                        <thead>
                        <tr>
                            <th>E-Mail Address</th>
                            <th>Code</th>
                            <th>Expires</th>
                            <th></th>
                        </tr>
                        </thead>
                        <tbody>
                        {% for invitation in invitations %}
                            <tr>
                                <td>{{ invitation.email }}</td>
                                <td>{{ invitation.invitationCode }}</td>
                                <td>{{ invitation.expiresAt.format('Y-m-d H:i:s') }}</td>
                                <td><a href="{{ path('app.games.invite.revoke', {'slug': game.getSlug, 'invitationCode': invitation.invitationCode}) }}" class="btn btn-danger">Revoke</a></td>
                            </tr>
                        {% endfor  %}
                        </tbody>
                    </table>

                {% endif %}
            </article>

            <hr class="subtle"/>
            <a href="{{ path('app.games.invite', {'slug': game.getSlug}) }}" class="btn btn-blue">Invite Players</a>
        </div>
    </div>

{% endblock %}
